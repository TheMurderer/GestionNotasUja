<!DOCTYPE html>
<html class="ui-mobile-rendering">
<head>
<meta charset="utf-8">
<title>Aplic. Web de jQuery Mobile</title>

<link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.1.0.min.css" /> 
<link rel="stylesheet" href="styles/style.css" />

<link rel="stylesheet"  href="jquery.mobile/jqm-icon-pack-2.0-original.css" />

<script src="jquery.mobile/jquery-1.7.2.min"></script>
<script src="jquery.mobile/jquery.mobile-1.1.0.min.js"></script>

<script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
<script type="text/javascript" charset="utf-8" src="index.js"></script>

<script type="text/javascript" charset="utf-8" src="config.js"></script>

<!-- LIBRERÍAS DE LA API -->
<script type="text/javascript" charset="utf-8" src="apis/login.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/register.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/asignatures.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/addAsignatures.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/confAsignature.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/addMaterialAsignature.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/contentSignature.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/califications.js"></script>
<script type="text/javascript" charset="utf-8" src="apis/validacion.js"></script>
<!-- FIN -->

<script src="jquery.mobile/json.min.js"></script>
<!-- <script src="http://code.jquery.com/jquery-1.5.min.js" type="text/javascript"></script>-->
</head>

<body>

	<!--***********************************************************************-->
	<!-- @page 		  : LOGIN de usario -->
	<!-- @description : Punto de entrada a la aplicación con el logeo del usuario -->
	<!-- @pageBefore  : Ninguna -->
	<!-- @pageAfter   : -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageLogin">
		<div data-role="header" data-position="fixed">
			<a href="" data-icon="arrow-l">Salir</a>
			<h1>Gestor de Notas</h1>
			<a href="#pageRegister" data-icon="gear">Registro</a>
		</div>
		<div data-role="content">
			<form id="formLogin">
				<p>Usuario:</p>
				<input type="email" name="email" id="textinput" value="lidia@ujaen.es" placeholder="email"/> <br>
				<p>Contraseña:</p>
				<input type="password" name="pass" id="passwordinput" value="12345" placeholder="pass"/>
				<br>
				<div align="center">
					<a href="" data-role="button" data-inline="true"
						onclick="peticionLogin()">Entrar</a>
				</div>
			</form>
		</div>
		<div data-role="footer" data-position="fixed">
			<h4>Uja</h4>
		</div>
	</div>

	<!--***********************************************************************-->
	<!-- @page 		  : REGISTRO de usuario-->
	<!-- @description : Permite cambiar los datos del profesor-->
	<!-- @pageBefore  : LOGIN -->
	<!-- @pageAfter   : LOGIN -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageRegister">
		<div data-role="header" data-position="fixed">
			<a href="#pageLogin" data-icon="back">Atrás</a>
			<h1>Registrarse</h1>
		</div>

		<div data-role="content" id="panel">
			<form id="formRegister">
				<p>Nombre:</p>
				<input type="text" name="nombre" id="textinput2" value="" /> <br>
				<p>Apellidos:</p>
				<input type="text" name="apellidos" id="textinput3" value="" /> <br>
				<p>DNI:</p>
				<input type="text" name="dni" id="textinput3" value="" /> <br>
				<p>Email:</p>
				<input type="text" name="email" id="textinput3" value="" /> <br>
				<p>Pass:</p>
				<input type="password" name="pass" id="passwordinput2" value="" />
				<br>
				<p>Confirmar Pass:</p>
				<input type="password" name="" id="passwordinput2" value="" /> <br>
				<div align="center">
					<a href="#" data-role="button" data-inline="true" data-icon=""
						onclick="peticionRegistro()">Registrarse</a>
				</div>
			</form>
		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>

	<!--***********************************************************************-->
	<!-- @page 		  : ASIGNATURAS DEL PROFESOR -->
	<!-- @description : Muestra una lista con las asignaturas que el profesor lleva -->
	<!-- @pageBefore  : LOGIN -->
	<!-- @pageAfter   : AÑADIR ASIGNATURA/ -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageSignatures">
		<div data-role="header" data-position="fixed">
			<a href="#pageLogin" data-icon="back">Atrás</a>
			<h1>Asignaturas</h1>
			<a href="#pageAddSignature" data-icon="plus"
				onclick="peticionTitulaciones()">Añadir</a>
		</div>

		<div data-role="content" id="listaAsignaturas"></div>

		<div id="cargando" class="capaCargando">
			<img class="imagen" src="jquery.mobile/images/loading.gif">
		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!-- Dialogo de opciones -->
	<div data-role="page" id="opcionesAsignatura">
		<div data-role="header" data-position="fixed" id="cabeceraConfiguracion">
			<h1>Opciones</h1>
		</div>

		<div data-role="content" align="center" id="contenidoOpAsig">
			<!-- <ul data-role="listview" id="listaOpcionesAsignatura">
				<li data-icon="plus"><a onclick="configuracionAsig(asignaturaSeleccionadaOpciones)">Añadir Materia</a></li>
				<li data-icon="edit"><a href="#" >Grupos teroría</a></li>
				<li data-icon="edit"><a href="#">Inscripción en grupos</a></li>
				<li data-icon="edit"><a href="#">Modificar Porcentajes</a></li>
				<li data-icon="trash"><a href="#">Eliminar </a></li>
			</ul>	 -->		
		</div>
	</div>

	<!--***********************************************************************-->
	<!-- @page 		  : AÑADIR ASIGNATURA -->
	<!-- @description : Añade una asignatura nueva a la lista del profesor, permitiendo su configuración -->
	<!-- @pageBefore  : ASIGNATURAS DEL PROFESOR -->
	<!-- @pageAfter   : ASIGNATURAS DEL PROFESOR -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageAddSignature">
		<div data-role="header" data-position="fixed">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			<h1>Nueva asignatura</h1>
		</div>
		
		<div id="cargando2" class="capaCargando">
			<img class="imagen" src="jquery.mobile/images/loading.gif">
		</div>
		
		<div data-role="content" id = "listarAsignaturasTitulacion">
			<form id="formAnadeAsignatura">
				<div id="TitulaAsign">
					<div id="titulaciones"></div>
					<div id="asignaturaElegida"></div>
				</div>
			</form>
		    
			<div data-role="content" align="center" id="btDialog"></div>
		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!-- DIALOGO RESPONSABLE -->
	<div data-role="page" id="divDialogo">
		<div data-role="header" data-position="fixed" id="cabeceraConfiguracion">
			<h1 id="asignatura">Responsable</h1>
		</div>

		<div data-role="content" id="" align="center">
			<h3>¿Es usted el responsable de la asignatura?</h3>
			<a href="javascript:EsResponsable()" data-role="button" data-inline="true">Si</a>
			<a href="javascript:noEsResponsable()" data-role="button" data-inline="true">No</a>		
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION PORCENTAJES DE ASIGNTAURA -->
	<!-- @description : Permite configurar el porcentaje de teoría/prácticas/trabajos/asistencia -->
	<!-- @pageBefore  : AÑADIR ASIGNATURA -->
	<!-- @pageAfter   : CONFIGURAR GRUPOS TEORÍA -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageAddPorcentaje">
		<div data-role="header" data-position="fixed">
			<a href="#pageAddSignature" data-icon="back">Atrás</a>
			<h1>Porcenjates</h1>
		</div>
		
		<div data-role="content" id = "listaPorcentajesAsignatura">
			<h3>Calificaciones</h3>
			<form id="formPorcentajesAct">
				<div id="porcentajesActualiz"></div>
			</form>	
			<form id="formPorcentajes">
				<div id="porcentajesInsercc">
					<label for="textinput4">Porcentaje Teoria:</label> <div id="diTeoria"><input
						type="number" name="porcentajeT" id="porcentajeT" value="" /></div>
					<label for="textinput4">Puntuación mínima:</label> <div id="diTeoria"><input
						type="number" name="porcentajeTMin" id="porcentajeTMin" value="0" /></div>
					<hr>
					<label for="textinput4">Porcentaje Práctica:</label> <div id="diPractica"><input
						type="number" name="porcentajeP" id="porcentajeP" value="" /></div>
					<label for="textinput4">Puntuación mínima:</label> <div id="diPractica"><input
						type="number" name="porcentajePMin" id="porcentajePMin" value="0" /></div>
					<hr>
					<label for="textinput4">Porcentaje Asistencia:</label> <div id="diAsistencia"><input
						type="number" name="porcentajeA" id="porcentajeA" value="" /></div>
					<label for="textinput4">Puntuación mínima:</label> <div id="diAsistencia"><input
						type="number" name="porcentajeAMin" id="porcentajeAMin" value="0" /></div>
					<hr>
					<label for="textinput5">Porcentaje Trabajos:</label> <div id="diTrabajos"><input
						type="number" name="porcentajeTV" id="porcentajeTV" value="" /></div>
					<label for="textinput5">Puntuación mínima:</label> <div id="diTrabajos"><input
						type="number" name="porcentajeTVMin" id="porcentajeTVMin" value="0" /></div>	
				</div>
			</form>	
		</div>
	
		<div align = "center" id="btPorcActual">
			<a href="javascript:actualizarPorcentajes()" data-role="button" data-inline="true" data-theme="b" >Actualizar</a>	
		</div>
		
		<div align = "center" id="btPorcInserc">
			<a href="#pageAddGruposTeoria" data-role="button" data-inline="true" data-theme="b" >Siguiente</a>	
		</div>
		
		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>

	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION GRUPOS TEORÍA -->
	<!-- @description : Permite configurar los grupos de tería que posee la asignatura -->
	<!-- @pageBefore  : CONFIGURACION PORCENTAJES DE ASIGNTAURA -->
	<!-- @pageAfter   : CONFIGURAR GRUPOS PRÁCTICAS -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageAddGruposTeoria">
		<div data-role="header" data-position="fixed">
			<a href="#pageAddPorcentaje" data-icon="back">Atrás</a>
			
			<h1>Grupos Teoría</h1>
			
			<a href="javascript:addGruposTeoria('DivGruposTeoria','listaGruposTeoria')" data-icon="plus">Añadir</a>
		</div>
		
		<div data-role="content" id = "listaGruposTeoria">
			<h3>Grupos de Teoría</h3>
			<form id="formFruposTeoria">
				<div id="DivGruposTeoria">
				
				</div>
			</form>
		</div>
	
		<div align = "center">
			<a href="#pageAddGruposPracticas" onclick="numeroGrupos()" data-role="button" data-inline="true" data-theme="b" >Siguiente</a>	
		</div>
		
		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION GRUPOS PRÁCTICAS -->
	<!-- @description : Permite configurar los grupos de prácticas que posee la asignatura -->
	<!-- @pageBefore  : CONFIGURACION GRUPOS TEORÍA -->
	<!-- @pageAfter   : AÑADIR ASIGNATURA (para que el responsable de la asignatuara escoja grupos) -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageAddGruposPracticas">
		<div data-role="header" data-position="fixed">
			<a href="#pageAddGruposTeoria" data-icon="back">Atrás</a>
			
			<h1>Grupos Prácticas</h1>
			
			<a href="javascript:addGruposPracticas('DivGruposPracticas','listaGruposPracticas')" data-icon="plus">Añadir</a>
		</div>
		
		<div data-role="content" id = "listaGruposPracticas">
			<h3>Grupos de Prácticas</h3>
			<form id="formGruposPracticas">
				<div id="DivGruposPracticas">
				
				</div>
			</form>
		</div>
	
		<div align = "center">
			<a href="javascript:almacenarInformacionResponsable()" data-role="button" data-inline="true" data-theme="b" >Siguiente</a>	
		</div>
		
		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : GRUPOS QUE IMPARTE EN ASIGNATURA -->
	<!-- @description : Indica los grupos que imparte en una asignatura  -->
	<!-- @pageBefore  : DEPENDE -->
	<!-- @pageAfter   : PAGINA DE ASIGNATURAS -->
	<!--***********************************************************************-->
 	<div data-role="page" id="gruposImparteAsig">
		
		<div data-role="header">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			<h1>Grupos Impartidos</h1>
		</div>
		
		<div id="cargando9" class="capaCargando">
			<img class="imagen" src="jquery.mobile/images/loading.gif">
		</div>

		<div data-role="content" id="contenidoGruposAsig">
				<div id="colTeoria" data-role="collapsible" data-theme="b" data-content-theme="d">
    			<h4>Teoría</h4>
    			<form id="formGrupoPertenTeoria">
	    			<div id="colConTeoria"></div>
    			</form>
    		</div>
    		<div id="colPracticas" data-role="collapsible" data-theme="b" data-content-theme="d">
    			<h4>Prácticas</h4>
    			<form id="formGrupoPertenPracticas">
    				<div id="colConPracticas"></div>
    			</form>
    		</div>
    		
		</div>
		
		<div align = "center">
			<a href="javascript:almacenarGruposImpartidos()" data-role="button" data-inline="true" data-theme="b" >Terminar</a>	
		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Pie de página</h4>
		</div>
	</div>

	
	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION ASIGNATURA -->
	<!-- @description : Muestra las teoría/prácticas/trabajos que posee una asigntaura  -->
	<!-- @pageBefore  : ASIGNATURAS DEL PROFESOR -->
	<!-- @pageAfter   : *** -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageConfigurationSignature">
		<div data-role="header" data-position="fixed" id="cabeceraConfiguracion">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			<h1 id="asignatura">Asignatura</h1>
		    <a href="#anadirMateriaAsignatura" data-icon="plus">Añadir</a>
			<div data-role="navbar">
				<ul>
					<li><a href="" class="ui-btn-active" onClick="mostrarDIV('T')"> Teoria </a></li>
					<li><a href="" onClick="mostrarDIV('P')"> Práticas </a></li>
					<li><a href="" onClick="mostrarDIV('TV')"> Trabajos </a></li>
				</ul>
			</div>
		</div>

		<div data-role="content" id="panelConfiguracionAsignatura" >

			<div data-role="content" id="confDIVTeoria">Teoria</div>

			<div data-role="content" id="confDIVPractica"> Practica</div>
			
			<div data-role="content" id="confDIVTrabajos"> Trabajos</div>

			<!--  <div align="center">
				<a href="#anadirMateriaAsignatura" data-role="button" data-inline="true" data-theme="d" data-icon="plus" onclick="">Añadir</a>
			</div>
			-->
		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>

	<!--***********************************************************************-->
	<!-- @page 		  : AÑADIR MATERIA A LA ASIGNATURA -->
	<!-- @description : Permite añadir teoría/prácticas/trabajos a la asignatura  -->
	<!-- @pageBefore  : CONFIGURACION ASIGNATURA -->
	<!-- @pageAfter   : CONFIGURACION ASIGNATURA -->
	<!--***********************************************************************-->
 	<div data-role="page" id="anadirMateriaAsignatura">
		<div data-role="header">
			<a href="#pageConfigurationSignature" data-icon="back">Atrás</a>
			<h1>Añadir</h1>
		</div>
		<div data-role="content">
		<form id="formRegister">
				<p>Descripción:</p>
				<input type="text" id="descripcionParcial" name="descripcion" placeholder="Titulo del material"> <br>
				<p>Puntuación:</p>
				<input type="text" id="puntuacionParcial" name="puntuacion" placeholder="Punciación máxima"> <br>
				<div align="center">
					<a href="#pageConfigurationSignature" data-role="button" data-inline="true" data-icon=""
						onclick="addMaterial(idAsignaturaSeleccionada,pestanaSeleccionada)">Añadir</a>
				</div>
			</form>
		
		
		</div>
		<div data-role="footer" data-position="fixed">
			<h4>Pie de página</h4>
		</div>
	</div>
	
	
	<!--***********************************************************************-->
	<!-- @page 		  : LISTADO DE ALUMNOS DE UNA ASIGNATURA -->
	<!-- @description : Lista los alumnos de la asignatura  -->
	<!-- @pageBefore  : ASIGNATURAS DEL PROFESOR -->
	<!-- @pageAfter   : *** -->
	<!--***********************************************************************-->
 	<div data-role="page" id="mostrarListadoAlumnos">
		
		<div data-role="header">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			<h1>Alumnos</h1>
		</div>
		
		<div id="cargando3" class="capaCargando">
			<img class="imagen" src="jquery.mobile/images/loading.gif">
		</div>

		<div data-role="content" id="listaAlumnos"></div>

		<div data-role="footer" data-position="fixed">
			<h4>Pie de página</h4>
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION GRUPOS TEORÍA PARA ACTUALIZAR O MODIFICAR -->
	<!-- @description : Permite configurar los grupos de tería que posee la asignatura -->
	<!-- @pageBefore  : CONFIGURACION PORCENTAJES DE ASIGNTAURA -->
	<!-- @pageAfter   : PAGINA DE ASIGNATURAS -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageUpdGruposTeoria">
		<div data-role="header" data-position="fixed">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			
			<h1>Grupos Teoría</h1>
			
			<a href="javascript:addGruposTeoria('DivGruposTeoriaUpd','listaGruposTeoriaUpd')" data-icon="plus">Añadir</a>
		</div>
		
		<div data-role="content" id = "listaGruposTeoriaUpd">
			<h3>Grupos de Teoría</h3>
			<form id="formGruposTeoriaUpd">
				<div id="DivGruposTeoriaUpd">
				
				</div>
			</form>
		</div>
	
		<div align = "center">
			<a href="#pageUpdGruposPracticas" onclick="numeroGrupos()" data-role="button" data-inline="true" data-theme="b" >Siguiente</a>	
		</div>
		
		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : CONFIGURACION GRUPOS PRÁCTICAS PARA ACTUALIZAR O MODIFICAR -->
	<!-- @description : Permite configurar los grupos de prácticas que posee la asignatura -->
	<!-- @pageBefore  : CONFIGURACION GRUPOS TEORÍA -->
	<!-- @pageAfter   : PAGINA DE ASIGNATURAS -->
	<!--***********************************************************************-->
	<div data-role="page" id="pageUpdGruposPracticas">
		<div data-role="header" data-position="fixed">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			
			<h1>Grupos Prácticas</h1>
			
			<a href="javascript:addGruposPracticas('DivGruposPracticasUpd','listaGruposPracticasUpd')" data-icon="plus">Añadir</a>
		</div>
		
		<div data-role="content" id = "listaGruposPracticasUpd">
			<h3>Grupos de Prácticas</h3>
			<form id="formGruposPracticasUpd">
				<div id="DivGruposPracticasUpd">
				
				</div>
			</form>
		</div>
	
		<div align = "center">
			<a href="javascript:almacenarInformacionResponsableUpd()" data-role="button" data-inline="true" data-theme="b" >Actualizar</a>	
		</div>
		
		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>
	
	<!--***********************************************************************-->
	<!-- @page 		  : CALIFICAR ALUMNO -->
	<!-- @description : Permite poner la nota de teoría/prácticas/trabajos al alumno seleccionado  -->
	<!-- @pageBefore  : LISTADO DE ALUMNOS DE UNA ASIGNATURA -->
	<!-- @pageAfter   : LISTADO DE ALUMNOS DE UNA ASIGNATURA -->
	<!--***********************************************************************-->
	<div data-role="page" id="calificacionAlumnos">
		<div data-role="header" data-position="fixed" id="cabeceraConfiguracionAlumnos">
			<a href="#pageSignatures" data-icon="back">Atrás</a>
			<h1 id="asignatura">Alumno</h1>
		    
			<div data-role="navbar">
				<ul>
					<li><a href="" class="ui-btn-active" onClick="mostrarDIVAsig('T')"> Teoria </a></li>
					<li><a href="" onClick="mostrarDIVAsig('P')"> Prácticas </a></li>
					<li><a href="" onClick="mostrarDIVAsig('TV')"> Trabajos </a></li>
				</ul>
			</div>
		</div>
		
		<div id="cargando4" class="capaCargando">
			<img class="imagen" src="jquery.mobile/images/loading.gif">
		</div>

		<div data-role="content" id="panelContenidoAsignaturaAlum">
			<form id="formCalificAlumnoTeoria">
				<div data-role="content" id="contDIVTeoria"></div>
			</form>
			<form id="formCalificAlumnoPracticas">
				<div data-role="content" id="contDIVPractica"></div>
			</form>
			<form id="formCalificAlumnoTrabajos">		
				<div data-role="content" id="contDIVTrabajos"></div>
			</form>
			
				<div align="center">
						<a href="" data-role="button" data-inline="true" data-icon=""
							onclick="actualizarDatos()">Actualizar</a>
				</div>
			

		</div>

		<div data-role="footer" data-position="fixed">
			<h4>Gestor de Notas</h4>
		</div>
	</div>

</body>

</html>
